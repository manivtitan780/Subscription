<SfDialog CssClass="dialogPopup" Header="Edit Company" Height="98vh" IsModal="true" MinHeight="98vh" @ref="Dialog" Target="#divTarget" Visible="false" Width="640px">
	<ChildContent>
		<SfSpinner @bind-Visible="VisibleSpinner" CssClass="spinnerHeight" Type="SpinnerType.Fluent2" ZIndex="12000"/>
		<DialogPositionData X="right" Y="center"/>
		<DialogAnimationSettings Duration="500" Effect="DialogEffect.SlideRight"/>
		<DialogEvents OnOpen="DialogOpen"/>
		<SfDataForm EditContext="@Context" ID="companyEditForm" OnValidSubmit="SaveCompany" @ref="CompanyEditForm" ValidationDisplayMode="FormValidationDisplay.Inline">
			<FormButtons>
				<SfButton CssClass="e-primary" IconCss="e-icons e-save" type="submit">Save Company</SfButton>
				<SfButton CssClass="e-secondary" IconCss="e-icons e-close" OnClick="CancelForm" type="button">Cancel</SfButton>
			</FormButtons>
			<FormValidator>
				<FluentValidationValidator Validator="_companyValidator"/>
			</FormValidator>
			<FormItems>
				<FormGroup CssClass="formGroup" ID="groupInfo" LabelText="Company Information">
					<FormItem ColumnSpan="1" Field="@nameof(Model.Name)">
						<Template>
							<TextBox @bind-Value="Model.Name" ID="textName" MaxLength="100" Placeholder="Company Name"/>
						</Template>
					</FormItem>
					<FormItem Field="@nameof(Model.EIN)">
						<Template>
							<MaskedTextBox @bind-Value="Model.EIN" ID="maskedEIN" Mask="00-0000000" Placeholder="EIN Number"/>
						</Template>
					</FormItem>
					<FormItem ColumnSpan="2" Field="@nameof(Model.EmailAddress)">
						<Template>
							<TextBox @bind-Value="Model.EmailAddress" ID="textEmail" MaxLength="255" Placeholder="Email" TextBoxType="InputType.Email"/>
						</Template>
					</FormItem>
					<FormItem ColumnSpan="2" Field="@nameof(Model.Website)">
						<Template>
							<TextBox @bind-Value="Model.Website" ID="textWebsite" MaxLength="255" Placeholder="Email" TextBoxType="InputType.URL"/>
						</Template>
					</FormItem>
					<FormItem Field="@nameof(Model.DUNS)">
						<Template>
							<MaskedTextBox @bind-Value="Model.EIN" ID="maskedDUNS" Mask="00-000-0000" Placeholder="D-U-N-S Number"/>
						</Template>
					</FormItem>
					<FormItem Field="@nameof(Model.NAICSCode)">
						<Template>
							<DropDown AllowFilter="true" @bind-Value="Model.NAICSCode" ID="dropNAICS" Key="KeyValue" Model="NAICS" Placeholder="NAICS" Text="Text" TItem="IntValues" TValue="int"/>
						</Template>
					</FormItem>
					<FormItem EditorType="FormEditorType.TextArea" Field="@nameof(Model.Notes)" LabelText="Company Notes:" Placeholder="Company Notes">
						<Template>
							<TextArea @bind-Value="Model.Notes" ID="textNotes" MaxLength="2000" Placeholder="Notes"></TextArea>
						</Template>
					</FormItem>
					<FormItem EditorType="FormEditorType.Switch" Field="@nameof(Model.Status)" LabelText="Enabled"/>
				</FormGroup>
				<FormGroup ColumnCount="3" ColumnSpacing="10px" CssClass="formGroup formGroupSecond" ID="groupLocation" LabelText="Primary Location">
					<FormItem ColumnSpan="3" Field="@nameof(Model.StreetName)">
						<Template>
							<TextBox @bind-Value="Model.StreetName" ID="textStreetName" MaxLength="500" Placeholder="Address"/>
						</Template>
					</FormItem>
					<FormItem ColumnSpan="3" Field="@nameof(Model.City)">
						<Template>
							<TextBox @bind-Value="Model.City" ID="textCity" MaxLength="100" Placeholder="City"/>
						</Template>
					</FormItem>
					<FormItem ColumnSpan="3" Field="@nameof(Model.StateID)">	
						<Template>
							<DropDown AllowFilter="true" @bind-Value="Model.StateID" ID="dropState" Key="KeyValue" Model="State" Placeholder="State" Text="Text" TItem="IntValues" TValue="int"/>
						</Template>
					</FormItem>
					<FormItem ColumnSpan="3" Field="@nameof(Model.ZipCode)">
						<Template>
							<MaskedTextBox @bind-Value="Model.ZipCode" ID="maskedZip" Mask="00000" Placeholder="Zip Code" />
						</Template>
					</FormItem>
					<FormItem ColumnSpan="2" Field="@nameof(Model.Phone)">
						<Template>
							<MaskedTextBox @bind-Value="Model.Phone" ID="maskedPhone" Mask="(000) 000-0000" Placeholder="Phone Number" />
						</Template>
					</FormItem>
					<FormItem ColumnSpan="1" Field="@nameof(Model.Extension)">
						<Template>
							<MaskedTextBox @bind-Value="Model.Extension" ID="maskedExt" Mask="x0000" Placeholder="Extension" />
						</Template>
					</FormItem>
					@*<FormItem ColumnSpan="3" Field="@nameof(Model.Fax)">
						<Template>
							<label class="e-form-label" for="maskedFax">Fax:</label>
							<SfMaskedTextBox @bind-Value="Model.Fax" ID="maskedFax" Mask="(000) 000-0000" Placeholder="Fax"/>
						</Template>
					</FormItem>*@
					<FormItem ColumnSpan="3" Field="@nameof(Model.LocationNotes)">
						<Template>
							<TextArea @bind-Value="Model.LocationNotes" ID="textLocationNotes" MaxLength="2000" Placeholder="Location Notes"></TextArea>
						</Template>
					</FormItem>
				</FormGroup>
			</FormItems>
		</SfDataForm>
	</ChildContent>
</SfDialog>